<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" version="-//W3C//DTD XHTML 1.1//EN" xml:lang="en">

<head>

<title>mooTree 2</title>

<meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
<link rel="stylesheet" href="mootree.css" type="text/css" media="screen" />

<script type="text/javascript" src="mootools/mootools-1.2-core.js"></script>
<script type="text/javascript" src="mootree.js"></script>

<script type="text/javascript">

var tree;

window.onload = function() {
	
	tree = new MooTreeControl({
		div: 'mytree',
		mode: 'files',
		grid: true,
		onSelect: function(node, state) {
			if (state && node.data.alert) window.alert(node.data.alert);
		}
	},{
		text: 'Root Node',
		open: true
	});
	
}

</script>

</head>

<body>

<h2>mooTree 2</h2>
<h4>example 5: XML loading</h4>

<p>
	<b>This example requires an actual webserver - it will not work with local files.</b>
</p>

<p>
	This page demonstrates dynamic XML loading. Click the 'load xml' button at the bottom of
	the page to load 'example.xml' under the currently selected node. Note that loading an XML
	document into a node clears the current contents of that node.
</p>

<p>
	Please examine the XML file. The attributes 'text', 'icon', 'openicon', 'color' and 'open' are used for the MooTreeNode constructor for each node - any other additional attributes (such as 'alert' in one of the nodes in this example) are added to the node's 'data' object, including the special attribute 'load'. The 'load' attribute (optionally) specifies another XML file to load when the node is expanded.
</p>

<div id="mytree">
</div>

<p>
	<input type="button" value=" expand all " onclick="tree.expand()" />
	<input type="button" value=" collapse all " onclick="tree.collapse()" />
</p>

<p>
	<input type="button" value=" load xml " onclick="(tree.selected||tree.root).load('example.xml')" />
</p>

</body>

</html>
